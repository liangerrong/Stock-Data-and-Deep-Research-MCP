# Stock-Data-and-Deep-Research-MCP
# AI Agent è‚¡ç¥¨åˆ†æ MCP æœåŠ¡å™¨

**ä¸“ä¸º AI Agent (Claude, Gemini ç­‰) è®¾è®¡çš„ A è‚¡å¸‚åœºæ•°æ®ä¸è´¢åŠ¡æŠ¥è¡¨ MCP æœåŠ¡å™¨ã€‚**

é€šè¿‡ Model Context Protocol (MCP) åè®®ï¼Œå°†ä½ çš„ AI åŠ©æ‰‹è¿æ¥åˆ°è¿™ä¸ªæœåŠ¡å™¨ï¼Œä½¿å…¶å…·å¤‡è·å–çœŸå®é‡‘èæ•°æ®çš„èƒ½åŠ›ï¼Œä»è€Œè¿›è¡Œä¸“ä¸šçš„åˆ†æã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

-   **æ•°æ®çœŸå®**: é€šè¿‡ `akshare` è·å–å®æ—¶çš„ A è‚¡è¡Œæƒ…ä¸å†å²æ•°æ®ï¼Œæ‹’ç»ç¼–é€ ã€‚
-   **ç»“æ„åŒ–è¾“å‡º**: ç›´æ¥å‘å¤§æ¨¡å‹è¿”å›ç»“æ„åŒ–çš„ JSON æ•°æ®ï¼Œä¾¿äº Agent è¿›è¡Œä»£ç å¤„ç†æˆ–åˆ†æã€‚
-   **è¦†ç›–å…¨é¢**: æ”¯æŒè‚¡ç¥¨æœç´¢ã€æ—¥çº¿è¡Œæƒ… (OHLCV)ã€ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨ï¼ˆèµ„äº§è´Ÿå€ºè¡¨ã€åˆ©æ¶¦è¡¨ã€ç°é‡‘æµé‡è¡¨ï¼‰ä»¥åŠæœ¬åœ°æŠ€æœ¯æŒ‡æ ‡è®¡ç®—ã€‚

## ğŸ›  å·¥å…·åˆ—è¡¨ (Exposed Tools)

æœ¬æœåŠ¡å™¨æš´éœ²äº†ä»¥ä¸‹ MCP å·¥å…·ä¾› Agent è°ƒç”¨ï¼š

| å·¥å…·åç§° | æè¿° | è¾“å…¥å‚æ•°ç¤ºä¾‹ |
|---------|------|------------|
| `get_stock_info` | æœç´¢è‚¡ç¥¨ä»£ç  | `name_or_code`: "èŒ…å°" æˆ– "600519" |
| `get_stock_daily_data` | è·å–æ—¥çº¿å†å²æ•°æ® | `stock_code`: "600519.SH", `start_date`: "2023-01-01" |
| `get_financial_report` | è·å–è´¢åŠ¡æŠ¥è¡¨ | `report_type`: "balance_sheet" (èµ„äº§è´Ÿå€ºè¡¨) ç­‰ |
| `calculate_technical_indicators` | è®¡ç®—æŠ€æœ¯æŒ‡æ ‡ (MA, RSIç­‰) | `daily_data_json`: (ç”± get_stock_daily_data è¿”å›çš„æ•°æ®) |

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. ç¯å¢ƒå‡†å¤‡

-   Python >= 3.10
-   å®‰è£…ä¾èµ–:
    ```bash
    pip install -r requirements.txt
    ```

### 2. è°ƒè¯•ä¸è¿è¡Œ

å¦‚æœä½ å®‰è£…äº† `fastmcp` CLI å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥è°ƒè¯•å·¥å…·ï¼š
```bash
fastmcp dev server.py
```

### 3. è¿æ¥åˆ° Claude Desktop

ä¿®æ”¹ Claude Desktop çš„é…ç½®æ–‡ä»¶ `claude_desktop_config.json` (é€šå¸¸ä½äº `%APPDATA%\Claude\` æˆ–ç”¨æˆ·ç›®å½•ä¸‹)ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "mcpServers": {
    "StockAnalysis": {
      "command": "python",
      "args": [
        "c:/Users/leo/Desktop/Python/AIè‚¡ç¥¨åˆ†æ - è‡ªç”¨/server.py"
      ]
    }
  }
}
```
*è¯·ç¡®ä¿è·¯å¾„ä¸­çš„ python å’Œ server.py å‡ä¸ºç»å¯¹è·¯å¾„ã€‚*

### 4. è¿æ¥åˆ° Gemini Agent

è¯·å‚è€ƒ [GEMINI.md](./GEMINI.md) è·å–æ›´è¯¦ç»†çš„ Agent æŒ‡ä»¤ä¸é…ç½®è¯´æ˜ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

-   `server.py`: **MCP æœåŠ¡å™¨å…¥å£æ–‡ä»¶**ï¼Œå®šä¹‰äº†æ‰€æœ‰å·¥å…·ã€‚
-   `interface.py`: ä¸šåŠ¡é€»è¾‘æ¥å£å±‚ï¼Œè¿æ¥ MCP Server ä¸åº•å±‚æ•°æ®æ ¸å¿ƒã€‚
-   `core/`: `akshare` çš„å°è£…ä¸æ•°æ®å¤„ç†æ ¸å¿ƒä»£ç ã€‚
-   `utils/`: å·¥å…·å‡½æ•°ã€‚
